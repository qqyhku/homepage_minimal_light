<!-- ClustrMaps Visitor Map -->
<div class="visitor-map-section">
  <h3>üåç Visitor Map</h3>
  <div id="visitor-map" style="width: 100%; height: 300px; border-radius: 8px; overflow: hidden; margin: 20px 0; background: #f8f9fa; display: flex; align-items: center; justify-content: center;">
    <div id="map-loading" style="text-align: center; color: #666;">
      <p>Loading ClustrMaps...</p>
    </div>
  </div>
  <p style="font-size: 0.9em; color: #666; text-align: center; margin-top: 10px;">
    Real-time visitor locations from around the world
  </p>
</div>

<style>
.visitor-map-section {
  margin: 30px 0;
  padding: 20px;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.visitor-map-section h3 {
  margin: 0 0 15px 0;
  color: var(--text-color);
  font-size: 1.2em;
}

@media (prefers-color-scheme: dark) {
  .visitor-map-section {
    background: rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }
}

/* ClustrMaps widget styling */
.clustrmaps-widget {
  border-radius: 8px;
  overflow: hidden;
}
</style>

<script>
// ClustrMaps Widget Code
// You can get your custom widget code from https://clustrmaps.com/
// This is a sample widget - replace with your actual ClustrMaps widget code

function loadClustrMaps() {
  try {
    // Remove loading message
    document.getElementById('map-loading').style.display = 'none';
    
    // For now, we'll show a placeholder with instructions
    document.getElementById('visitor-map').innerHTML = 
      '<div style="text-align: center; color: #666; padding: 50px;">' +
        '<h4>üåç ClustrMaps Widget</h4>' +
        '<p>To display your visitor map:</p>' +
        '<ol style="text-align: left; max-width: 400px; margin: 20px auto;">' +
          '<li>Visit <a href="https://clustrmaps.com/" target="_blank">ClustrMaps.com</a></li>' +
          '<li>Click "Get Map Widget"</li>' +
          '<li>Enter your website URL</li>' +
          '<li>Copy the widget code</li>' +
          '<li>Replace the script in this file</li>' +
        '</ol>' +
        '<p><strong>Your ClustrMaps Globe Widget:</strong></p>' +
        '<code style="background: #f0f0f0; padding: 10px; border-radius: 4px; display: block; margin: 10px 0; font-size: 0.8em;">' +
          '&lt;script type="text/javascript" id="clstr_globe" src="//clustrmaps.com/globe.js?d=169QBg4h42ScJHo9ylBQAj3j7I-6IRTfMabyZrKwc6k"&gt;&lt;/script&gt;' +
        '</code>' +
      '</div>';
    
    console.log('ClustrMaps placeholder loaded');
  } catch (error) {
    console.error('Error loading ClustrMaps:', error);
    document.getElementById('visitor-map').innerHTML = '<p style="text-align: center; color: #666; padding: 50px;">Failed to load ClustrMaps. Please try refreshing the page.</p>';
  }
}

// Load ClustrMaps when page is ready
document.addEventListener('DOMContentLoaded', function() {
  setTimeout(loadClustrMaps, 1000);
});

// Alternative: Direct ClustrMaps integration
// Uncomment the following lines and replace YOUR_SITE_ID with your actual ClustrMaps site ID
/*
document.addEventListener('DOMContentLoaded', function() {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.id = 'clustrmaps';
  script.src = '//clustrmaps.com/map_v2.js?d=YOUR_SITE_ID&cl=ffffff&w=300&t=tt';
  document.getElementById('visitor-map').appendChild(script);
});
*/

// Your ClustrMaps Globe Widget
document.addEventListener('DOMContentLoaded', function() {
  // Remove loading message
  document.getElementById('map-loading').style.display = 'none';
  
  // Create and append your ClustrMaps globe script
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.id = 'clstr_globe';
  script.src = '//clustrmaps.com/globe.js?d=169QBg4h42ScJHo9ylBQAj3j7I-6IRTfMabyZrKwc6k';
  document.getElementById('visitor-map').appendChild(script);
});
</script> 